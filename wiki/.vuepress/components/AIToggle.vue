<!-- .vuepress/components/AIToggle.vue -->
<template>
  <ClientOnly>
    <button class="ai-toggle" @click="toggle" :title="ai.show ? 'ç‚¹å‡»éšè— AI å›¾ç‰‡' : 'ç‚¹å‡»æ˜¾ç¤º AI å›¾ç‰‡'">
      <span v-if="ai.show">ğŸ”“ æ˜¾ç¤º AI å›¾</span>
      <span v-else>ğŸ”’ éšè— AI å›¾</span>
    </button>
  </ClientOnly>
</template>

<script setup lang="ts">
import { inject } from 'vue'
import { AI_INJECT_KEY } from '../client'
const ai = inject(AI_INJECT_KEY) as { show: boolean; setShow: (v:boolean)=>void }
const toggle = () => ai.setShow(!ai.show)
</script>

<style scoped>
/* ä½¿ç”¨ theme-hope æä¾›çš„ CSS å˜é‡ï¼Œè‡ªåŠ¨éšæ˜æš—ä¸»é¢˜å˜åŒ– */
.ai-toggle {
  position: fixed;
  z-index: 9999;
  top: 12px;
  right: 300px;
  font-size: 13px;
  padding: 6px 10px;
  border-radius: 999px;
  cursor: pointer;

  /* ä½¿ç”¨ä¸»é¢˜å˜é‡ï¼šè¿™äº›ä¼šéš theme-hope è‡ªåŠ¨åˆ‡æ¢ */
  color: var(--c-text, #111);
  background: var(--vp-c-bg-soft, var(--c-bg, #fff));
  border: 1px solid var(--c-border, #e5e7eb);

  /* é˜´å½±ä¸è¿‡æ¸¡ */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  transition: 
    background 0.25s ease,
    color 0.25s ease,
    border-color 0.25s ease,
    box-shadow 0.25s ease;
}

/* æ‚¬åœçŠ¶æ€ï¼šå¢åŠ è“è‰²è¾¹æ¡†å’Œè½»å¾®ä¸Šç§» */
.ai-toggle:hover {
  border-color: var(--c-brand, #3a7bff);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
  transform: translateY(-1px);
}

/* æš—è‰²æ¨¡å¼é€‚é…ï¼šè·Ÿéš theme-hope çš„ data-theme å±æ€§ */
html[data-theme='dark'] .ai-toggle {
  background: var(--vp-c-bg-soft, #1e1e1e);
  color: var(--c-text, #eee);
  border-color: var(--c-border, #333);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

html[data-theme='dark'] .ai-toggle:hover {
  border-color: var(--c-brand, #5c9dff);
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.4);
}
</style>